{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ElementRef, ViewChild } from '@angular/core';\nexport let ChatComponent = class ChatComponent {\n  constructor(service) {\n    this.service = service;\n    this.myScrollContainer = new ElementRef('scrollable');\n    this.messages = [];\n    this.messages$ = this.service.messageStream.subscribe(message => {\n      this.messages.push(message);\n    });\n  }\n  ngOnInit() {}\n  ngOnDestroy() {}\n  ngAfterViewChecked() {\n    this.scrollToBottom();\n  }\n  scrollToBottom() {\n    try {\n      this.myScrollContainer.nativeElement.scrollTop = this.myScrollContainer.nativeElement.scrollHeight;\n    } catch (err) {}\n  }\n};\n__decorate([ViewChild('scrollable')], ChatComponent.prototype, \"myScrollContainer\", void 0);\nChatComponent = __decorate([Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.scss']\n})], ChatComponent);","map":{"version":3,"names":["Component","ElementRef","ViewChild","ChatComponent","constructor","service","myScrollContainer","messages","messages$","messageStream","subscribe","message","push","ngOnInit","ngOnDestroy","ngAfterViewChecked","scrollToBottom","nativeElement","scrollTop","scrollHeight","err","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\MihajloBencun\\Desktop\\Faks\\Zastita informacija\\Prvi projekat\\chat\\src\\app\\chat\\chat.component.ts"],"sourcesContent":["import { AfterViewChecked, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { ChatService } from './chat.service';\nimport { Message } from '../models/message.dto';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.scss']\n})\nexport class ChatComponent implements OnInit, OnDestroy, AfterViewChecked{\n  @ViewChild('scrollable') private myScrollContainer: ElementRef = new ElementRef('scrollable');\n  messages: Message[] = [];\n  messages$ = this.service.messageStream.subscribe((message) => {\n    this.messages.push(message);\n  });\n  constructor(private service: ChatService) { }\n  ngOnInit(){\n\n  }\n  ngOnDestroy(): void {\n    \n  }\n  ngAfterViewChecked(): void {\n    this.scrollToBottom();\n  }\n  scrollToBottom():void {\n    try {\n        this.myScrollContainer.nativeElement.scrollTop = this.myScrollContainer.nativeElement.scrollHeight;\n    } catch(err) { }                 \n  }\n}\n"],"mappings":";AAAA,SAA2BA,SAAS,EAAEC,UAAU,EAAqBC,SAAS,QAAQ,eAAe;AAS9F,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAMxBC,YAAoBC,OAAoB;IAApB,KAAAA,OAAO,GAAPA,OAAO;IALM,KAAAC,iBAAiB,GAAe,IAAIL,UAAU,CAAC,YAAY,CAAC;IAC7F,KAAAM,QAAQ,GAAc,EAAE;IACxB,KAAAC,SAAS,GAAG,IAAI,CAACH,OAAO,CAACI,aAAa,CAACC,SAAS,CAAEC,OAAO,IAAI;MAC3D,IAAI,CAACJ,QAAQ,CAACK,IAAI,CAACD,OAAO,CAAC;IAC7B,CAAC,CAAC;EAC0C;EAC5CE,QAAQA,CAAA,GAER;EACAC,WAAWA,CAAA,GAEX;EACAC,kBAAkBA,CAAA;IAChB,IAAI,CAACC,cAAc,EAAE;EACvB;EACAA,cAAcA,CAAA;IACZ,IAAI;MACA,IAAI,CAACV,iBAAiB,CAACW,aAAa,CAACC,SAAS,GAAG,IAAI,CAACZ,iBAAiB,CAACW,aAAa,CAACE,YAAY;KACrG,CAAC,OAAMC,GAAG,EAAE;EACf;CACD;AApBkCC,UAAA,EAAhCnB,SAAS,CAAC,YAAY,CAAC,C,uDAAsE;AADnFC,aAAa,GAAAkB,UAAA,EALzBrB,SAAS,CAAC;EACTsB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWrB,aAAa,CAqBzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}