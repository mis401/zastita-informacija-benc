{"ast":null,"code":"export class XTEA {\n  constructor() {\n    this.keyByteString = import.meta.env.NG_APP_XTEA_KEY.split(' ');\n    this.key = [];\n    this.delta = 0x9E3779B9;\n    for (let i = 0; i < 4; i++) {\n      console.log(parseInt(this.keyByteArray.slice(i * 4, i * 4 + 4).join('')));\n      const fourBytes = Uint32Array.from([parseInt(this.keyByteArray.slice(i * 4, i * 4 + 4).join(''))]);\n      this.key.push(fourBytes);\n    }\n    console.log(this.key);\n  }\n  Encrypt(message) {\n    this.Blockify(message);\n    return \"prosao blockify\";\n  }\n  Decrypt(message) {\n    return message;\n  }\n  Blockify(message) {\n    const txtEncoder = new TextEncoder();\n    let messageInBytes = txtEncoder.encode(message);\n    let paddedMessage = messageInBytes;\n    const paddingRequired = messageInBytes.length % 8;\n    if (paddingRequired) {\n      const paddingBytes = new Uint8Array(paddingRequired);\n      paddingBytes.fill(paddingRequired);\n      paddedMessage = new Uint8Array([...messageInBytes, ...paddingBytes]);\n    }\n    let blocks = [];\n    for (let i = 0; i < paddedMessage.length; i += 8) {\n      const block = parseInt(paddedMessage.slice(i, i + 8).join(''));\n      blocks.push(block);\n      console.log(block);\n    }\n    return blocks;\n  }\n}","map":{"version":3,"names":["XTEA","constructor","keyByteString","import","meta","env","NG_APP_XTEA_KEY","split","key","delta","i","console","log","parseInt","keyByteArray","slice","join","fourBytes","Uint32Array","from","push","Encrypt","message","Blockify","Decrypt","txtEncoder","TextEncoder","messageInBytes","encode","paddedMessage","paddingRequired","length","paddingBytes","Uint8Array","fill","blocks","block"],"sources":["C:\\Users\\MihajloBencun\\Desktop\\Faks\\Zastita informacija\\Prvi projekat\\zastita-informacija-benc\\Prvi projekat\\chat\\src\\app\\encryption\\XTEA.ts"],"sourcesContent":["import { IEncryption } from \"./IEncryption\";\r\n\r\nexport class XTEA implements IEncryption {\r\n    private keyByteString = import.meta.env.NG_APP_XTEA_KEY.split(' ');\r\n    private key : Uint32Array[] = []\r\n    private delta=0x9E3779B9;\r\n\r\n    constructor() {\r\n        for (let i = 0; i < 4; i++){\r\n            console.log(parseInt(this.keyByteArray.slice(i*4, i*4+4).join('')))\r\n            const fourBytes = Uint32Array.from([parseInt(this.keyByteArray.slice(i*4, i*4+4).join(''))]);\r\n            this.key.push(fourBytes);\r\n        }\r\n        console.log(this.key)\r\n    }\r\n\r\n    public Encrypt(message: string): string {\r\n        this.Blockify(message);\r\n        return \"prosao blockify\"\r\n    }\r\n    public Decrypt(message: string): string {\r\n        return message;\r\n    }\r\n    private Blockify(message: string) {\r\n        const txtEncoder = new TextEncoder();\r\n        let messageInBytes = txtEncoder.encode(message);\r\n        let paddedMessage = messageInBytes;\r\n        const paddingRequired = messageInBytes.length % 8;\r\n        if (paddingRequired){\r\n            const paddingBytes = new Uint8Array(paddingRequired);\r\n            paddingBytes.fill(paddingRequired)\r\n            paddedMessage = new Uint8Array([...messageInBytes, ...paddingBytes]);\r\n        }\r\n        let blocks = [];\r\n        for (let i = 0; i < paddedMessage.length; i += 8) {\r\n            const block = parseInt((paddedMessage.slice(i, i + 8)).join(''));\r\n            blocks.push(block);\r\n            console.log(block);\r\n        }\r\n        return blocks;\r\n    }\r\n\r\n}"],"mappings":"AAEA,OAAM,MAAOA,IAAI;EAKbC,YAAA;IAJQ,KAAAC,aAAa,GAAGC,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,eAAe,CAACC,KAAK,CAAC,GAAG,CAAC;IAC1D,KAAAC,GAAG,GAAmB,EAAE;IACxB,KAAAC,KAAK,GAAC,UAAU;IAGpB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAC;MACvBC,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC,IAAI,CAACC,YAAY,CAACC,KAAK,CAACL,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,CAACM,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;MACnE,MAAMC,SAAS,GAAGC,WAAW,CAACC,IAAI,CAAC,CAACN,QAAQ,CAAC,IAAI,CAACC,YAAY,CAACC,KAAK,CAACL,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,CAACM,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MAC5F,IAAI,CAACR,GAAG,CAACY,IAAI,CAACH,SAAS,CAAC;;IAE5BN,OAAO,CAACC,GAAG,CAAC,IAAI,CAACJ,GAAG,CAAC;EACzB;EAEOa,OAAOA,CAACC,OAAe;IAC1B,IAAI,CAACC,QAAQ,CAACD,OAAO,CAAC;IACtB,OAAO,iBAAiB;EAC5B;EACOE,OAAOA,CAACF,OAAe;IAC1B,OAAOA,OAAO;EAClB;EACQC,QAAQA,CAACD,OAAe;IAC5B,MAAMG,UAAU,GAAG,IAAIC,WAAW,EAAE;IACpC,IAAIC,cAAc,GAAGF,UAAU,CAACG,MAAM,CAACN,OAAO,CAAC;IAC/C,IAAIO,aAAa,GAAGF,cAAc;IAClC,MAAMG,eAAe,GAAGH,cAAc,CAACI,MAAM,GAAG,CAAC;IACjD,IAAID,eAAe,EAAC;MAChB,MAAME,YAAY,GAAG,IAAIC,UAAU,CAACH,eAAe,CAAC;MACpDE,YAAY,CAACE,IAAI,CAACJ,eAAe,CAAC;MAClCD,aAAa,GAAG,IAAII,UAAU,CAAC,CAAC,GAAGN,cAAc,EAAE,GAAGK,YAAY,CAAC,CAAC;;IAExE,IAAIG,MAAM,GAAG,EAAE;IACf,KAAK,IAAIzB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmB,aAAa,CAACE,MAAM,EAAErB,CAAC,IAAI,CAAC,EAAE;MAC9C,MAAM0B,KAAK,GAAGvB,QAAQ,CAAEgB,aAAa,CAACd,KAAK,CAACL,CAAC,EAAEA,CAAC,GAAG,CAAC,CAAC,CAAEM,IAAI,CAAC,EAAE,CAAC,CAAC;MAChEmB,MAAM,CAACf,IAAI,CAACgB,KAAK,CAAC;MAClBzB,OAAO,CAACC,GAAG,CAACwB,KAAK,CAAC;;IAEtB,OAAOD,MAAM;EACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}